import{BN as t,Program as e}from"@project-serum/anchor";import{Gateway as s,findPDA as i}from"@faktorfi/utils";import{SystemProgram as n}from"@solana/web3.js";const a=Buffer.from("lst");class r extends s{async pda(t,e){return await i([a,t.toBuffer(),e.toBuffer()],this.program.programId)}}const o=Buffer.from("elm");class c extends s{async pda(t,e){return await i([o,t.toBuffer(),e.toArrayLike(Buffer,"be",16)],this.program.programId)}}class m{constructor(t){this.element=void 0,this.list=void 0,this.element=new c(t,t.account.element),this.list=new r(t,t.account.list)}}class u{constructor(t,e){this.account=void 0,this.program=void 0,this.account=t,this.program=e}async createList({namespace:t,owner:e,payer:s}){const i=await this.account.list.pda(e,t);return this.program.instruction.createList(i.bump,{accounts:{list:i.address,namespace:t,owner:e,payer:s,systemProgram:n.programId}})}}class p{constructor(t,e){this.account=void 0,this.program=void 0,this.account=t,this.program=e}async deleteList({list:t}){const e=await this.account.list.data(t);return this.program.instruction.deleteList({accounts:{list:t,owner:e.owner}})}}class l{constructor(t,e){this.account=void 0,this.program=void 0,this.account=t,this.program=e}async pushElement({list:t,owner:e,value:s}){const i=await this.account.list.data(t),a=await this.account.element.pda(t,i.count);return this.program.instruction.pushElement(s,a.bump,{accounts:{list:t,element:a.address,owner:e,payer:e,systemProgram:n.programId}})}}class h{constructor(t,e){this.account=void 0,this.program=void 0,this.account=t,this.program=e}async popElement({list:e}){const s=await this.account.list.data(e),i=await this.account.element.pda(e,s.count.sub(new t(1)));return this.program.instruction.popElement({accounts:{list:e,element:i.address,owner:s.owner}})}}class d{constructor(t,e){this.account=void 0,this.program=void 0,this.createList=void 0,this.deleteList=void 0,this.pushElement=void 0,this.popElement=void 0,this.account=t,this.program=e,this.createList=new u(t,e).createList,this.deleteList=new p(t,e).deleteList,this.popElement=new h(t,e).popElement,this.pushElement=new l(t,e).pushElement}}const g={version:"0.0.3",name:"list_program",instructions:[{name:"createList",accounts:[{name:"list",isMut:!0,isSigner:!1},{name:"namespace",isMut:!1,isSigner:!1},{name:"owner",isMut:!0,isSigner:!0},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"}]},{name:"deleteList",accounts:[{name:"list",isMut:!0,isSigner:!1},{name:"owner",isMut:!0,isSigner:!0}],args:[]},{name:"popElement",accounts:[{name:"list",isMut:!0,isSigner:!1},{name:"owner",isMut:!0,isSigner:!0},{name:"element",isMut:!0,isSigner:!1}],args:[]},{name:"pushElement",accounts:[{name:"list",isMut:!0,isSigner:!1},{name:"owner",isMut:!0,isSigner:!0},{name:"payer",isMut:!0,isSigner:!0},{name:"element",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"value",type:"publicKey"},{name:"bump",type:"u8"}]}],accounts:[{name:"element",type:{kind:"struct",fields:[{name:"index",type:"u128"},{name:"value",type:"publicKey"},{name:"bump",type:"u8"}]}},{name:"list",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"namespace",type:"publicKey"},{name:"count",type:"u128"},{name:"bump",type:"u8"}]}}]},w="DBMi4GBjiX15vCMVj93uB7JYM9LU6rCaZJraVKM6XgZi";class y{constructor(t){this.account=void 0,this.instruction=void 0;const s=new e(g,w,t),i=new m(s),n=new d(i,s);this.account=i,this.instruction=n}}y.programId=w;export{y as ListProgram,w as PROGRAM_ID};
//# sourceMappingURL=faktorfi-list-program.modern.js.map
